<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
        <title>í•¨ìˆ˜ ì§€í–¥ - í•¨ìˆ˜ì˜ í˜¸ì¶œ(apply ì‚¬ìš©) ğŸ¥²</title>
    </head>

    <body>
        <script>
            o1 = { val1: 1, val2: 2, val3: 3 }
            o2 = { vl: 10, v2: 50, v3: 100, v4: 25 }

            function sum() {
                var _sum = 0;
                for(name in this) { // thisëŠ” í˜¸ì¶œí•  ë•Œ ì •í•´ì§
                    _sum += this[name];
                }
                return _sum;
            }

            alert(sum.apply(o1)); // sumì„ í˜¸ì¶œí•  ë•Œ ë”í•œ í•©ê³„ë¥¼ ë‚´ëŠ” ëŒ€ìƒì€ o1ì´ë¼ëŠ” ê°ì²´ -> 6
            /*
                o1ì´ë¼ê³  í•˜ëŠ” ê°ì²´ë¥¼ applyì˜ ì¸ìë¡œ ì£¼ê²Œ ë˜ë©´ ì‹¤í–‰ë˜ëŠ” ìˆœê°„ o1ì´ sum í•¨ìˆ˜ì˜ thisê°€ ë¨
                ğŸ‘‡ğŸ»
                function sum() {
                    var this = o1, // <- thisëŠ” ì´ë ‡ê²Œ í•´ì„ëœë‹¤ê³  ë³´ë©´ ë¨
                        _sum = 0;
                    for(name in this) {
                        _sum += this[name];
                    }
                    return _sum;
                }
            */
            alert(sum.apply(o2)); // 185
        </script>

        <script>
            // ì´í•´ë¥¼ ë•ê¸° ìœ„í•´ ìœ„ ì˜ˆì œë¥¼ í’€ì–´ì„œ ì“°ë©´ ì´ë ‡ê²Œ ë¨
            function sum() {
                var _sum = 0;
                for(name in this) {
                    if(typeof this[name] !== 'function') { // ì´ ì¡°ê±´ì„ ë„£ì§€ ì•Šìœ¼ë©´ í•¨ìˆ˜ë„ ê°™ì´ ì¶œë ¥ë¨
                        _sum += this[name];
                    }
                }
                return _sum;
            }

            o1 = { val1: 1, val2: 2, val3: 3 sum: sum }
            o2 = { v1: 10, v2: 50, v3: 100, v4: 25, sum: sum }

            alert(o1.sum());
            alert(o2.sum());
        </script>
    </body>
</html>